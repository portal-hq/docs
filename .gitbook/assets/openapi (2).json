{"openapi":"3.0.0","info":{"title":"Portal API","description":"Swagger API docs for the Portal APIs.","license":{"name":"MIT","url":""},"termsOfService":"","version":"1.0.0"},"servers":[],"security":[{"CustodianAuth":[]},{"ClientAuth":[]}],"components":{"securitySchemes":{"CustodianAuth":{"type":"http","scheme":"bearer"},"ClientAuth":{"type":"http","scheme":"bearer"}},"schemas":{"CreateClientRequest":{"description":"A CreateClientRequest","required":["address"],"type":"object","properties":{"address":{"description":"A valid eth address","type":"string"}}},"CreateClientResponse":{"description":"A CreateClientResponse","type":"object","properties":{"id":{"description":"A client id","type":"string"},"clientApiKey":{"description":"A client api key","type":"string"}}},"WalletConnectList":{"description":"WalletConnect Session List","type":"object","properties":{"id":{"description":"Id of the session","type":"string"},"chainId":{"description":"chainId of the session","type":"integer"},"peerName":{"description":"peername of the dapp this session is for","type":"string"},"peerDescription":{"description":"peername of the dapp this session is for","type":"string"},"peerIcons":{"description":"peername of the dapp this session is for","type":"array","items":{"type":"string"}}}},"WalletConnectSessionRequest":{"description":"A WalletConnect Session Request","required":["uri","chainId","autoApprove"],"type":"object","properties":{"uri":{"description":"The wallet connect uri","type":"string"},"chainId":{"description":"The desired chain id for the session","type":"integer"},"autoApprove":{"description":"To auto approve requests for the session","type":"boolean"}}},"WebhookRequest":{"description":"A Webhook Request","required":["webhook","secret"],"type":"object","properties":{"webhook":{"description":"the webhook url","type":"string"},"secret":{"description":"the secret for the webhook url","type":"string"}}}}},"paths":{"/api/clients":{"post":{"deprecated":false,"summary":"Create a new client","description":"Registers a wallet address as a new client and returns a client api key.","security":[{"CustodianAuth":[]}],"responses":{"201":{"description":"Success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateClientResponse"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object"}}}},"401":{"description":"Unauthorized Request","content":{"application/json":{"schema":{"type":"object"}}}}},"parameters":[],"tags":["Custodian API"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateClientRequest"},"examples":{"example1":{"value":"{\n  \"address\": \"0xabcdef1234567890\"\n},"}}}},"description":"the address to register for the client","required":true}},"get":{"deprecated":false,"summary":"Fetches a list of clients","description":"Fetches all clients for the authorized custodian.","security":[{"CustodianAuth":[]}],"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CreateClientResponse"}},"examples":{"example1":{"summary":"a list clients","value":[{"id":"1","clientApiKey":"epouvaneoghaoenvpa"},{"id":"2","clientApiKey":"asdfbpqwoivnqpoinv"}]}}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object"}}}},"401":{"description":"Unauthorized Request","content":{"application/json":{"schema":{"type":"object"}}}}},"parameters":[],"tags":["Custodian API"]}},"/api/clients/{clientId}":{"get":{"deprecated":false,"summary":"Fetches a single client","description":"Fetches the specified client for the authorized custodian.","security":[{"CustodianAuth":[]}],"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateClientResponse"},"examples":{"example1":{"summary":"a single clients","value":{"id":"1","clientApiKey":"epouvaneoghaoenvpa"}}}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object"}}}},"401":{"description":"Unauthorized Request","content":{"application/json":{"schema":{"type":"object"}}}}},"parameters":[{"name":"clientId","in":"path","description":"the id of the client","required":true,"deprecated":false,"schema":{"type":"string"}}],"tags":["Custodian API"]}},"/api/connect/sessions":{"get":{"deprecated":false,"summary":"Get a list of sessions","description":"Fetches a list of sessions for the authenticated client.","security":[{"ClientAuth":[]}],"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/WalletConnectList"}}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object"}}}},"401":{"description":"Unauthorized Request","content":{"application/json":{"schema":{"type":"object"}}}}},"parameters":[],"tags":["Client API"]},"post":{"deprecated":false,"summary":"Starts a new session for a client","description":"Connect a client to a dapp by forming a session.","security":[{"ClientAuth":[]}],"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object"}}}},"401":{"description":"Unauthorized Request","content":{"application/json":{"schema":{"type":"object"}}}}},"parameters":[],"tags":["Client API"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WalletConnectSessionRequest"}}},"description":"A wallet connect session request","required":true}}},"/api/webhook":{"post":{"deprecated":false,"summary":"Register a new webhook","description":"Registers a new or updates an existing webhook and secret.","security":[{"CustodianAuth":[]}],"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object"}}}},"401":{"description":"Unauthorized Request","content":{"application/json":{"schema":{"type":"object"}}}}},"parameters":[],"tags":["Custodian API"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookRequest"}}},"description":"the webhook url and secret to register for a custodian","required":true}}}},"tags":[{"name":"Client API","description":""},{"name":"Custodian API","description":""}]}